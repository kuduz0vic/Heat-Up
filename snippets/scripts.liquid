<script
  src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=63fb8d54806681128a4258a9"
  type="text/javascript"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
<script src="{{ 'webflow.js' | asset_url }}" type="text/javascript"></script>
<script src="{{ 'shopify-money.js' | asset_url }}" type="text/javascript"></script>
<!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
<script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<script
  src="https://code.jquery.com/jquery-3.6.3.js"
  integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
  crossorigin="anonymous"></script>
<script>// document.addEventListener('DOMContentLoaded', () => {
// document.querySelectorAll('.cart-icon').forEach(trigger => {
// trigger.addEventListener('click', function(){ 
//    document.querySelectorAll('.body').forEach(target => target.classList.add('is-non-scrollable')); 
//    });
// });
// document.querySelectorAll('.overlay-sidebar-close-btn').forEach(trigger => {
// trigger.addEventListener('click', function(){ 
//    document.querySelectorAll('.body').forEach(target => target.classList.remove('is-non-scrollable')); 
//    });
// });
// });
</script><script>
var mySwiper = new Swiper('#why-swiper', {

  // Optional parameters
  spaceBetween: 16,
  slidesPerView: 1,
  freeMode: false,
  loop: true,
  centeredSlides: true,
  slidesPerGroup: 1,
  loopFillGroupWithBlank: false,

// Enable lazy loading
  lazy: true,
  pagination: {
    el: '#WhySwiperPagination'
  },
  navigation: {
    nextEl: "#why-next-arrow",
    prevEl: "#why-prev-arrow"
  },
  keyboard: {
    enabled: true
  }
});
</script><script>
var mySwiper = new Swiper('#review-swiper', {

  // Optional parameters
  spaceBetween: 16,
  slidesPerView: 1,
  freeMode: false,
  loop: true,
  centeredSlides: true,
  slidesPerGroup: 1,
  loopFillGroupWithBlank: false,

// Enable lazy loading
  lazy: true,
  navigation: {
    nextEl: "#review-next-arrow",
    prevEl: "#review-prev-arrow"
  },
  keyboard: {
    enabled: true
  },
  breakpoints: {
    480: {
      slidesPerView: 2,
      slidesPerGroup: 2,
      loopFillGroupWithBlank: false
    },
    992: {
      slidesPerView: 3,
      slidesPerGroup: 3,
      loopFillGroupWithBlank: false
    }
  }
})
</script><script>
var mySwiper = new Swiper('#key-features', {

  // Optional parameters
  spaceBetween: 16,
  slidesPerView: 1,
  freeMode: false,
  loop: true,
  centeredSlides: true,
  slidesPerGroup: 1,
  loopFillGroupWithBlank: false,

// Enable lazy loading
  lazy: true,
  navigation: {
    nextEl: "#key-features-next-arrow",
    prevEl: "#key-features-prev-arrow"
  },
  keyboard: {
    enabled: true
  },
  breakpoints: {
    480: {
      slidesPerView: 2,
      slidesPerGroup: 2,
      loopFillGroupWithBlank: false
    },
    992: {
      slidesPerView: 3,
      slidesPerGroup: 3,
      loopFillGroupWithBlank: false
    }
  }
})
</script><script>
var mySwiper = new Swiper('#instagram-swiper', {

  // Optional parameters
  spaceBetween: 16,
  slidesPerView: 2,
  freeMode: false,
  loop: true,
  centeredSlides: true,

// Enable lazy loading
  lazy: false,
  keyboard: {
    enabled: true
  },
  navigation: {
    nextEl: "#insta-next-arrow",
    prevEl: "#insta-prev-arrow"
  },
  breakpoints: {
    480: {
      slidesPerView: 2,
      centeredSlides: true
    },
    992: {
      slidesPerView: 4,
      centeredSlides: false
    }
  }
})
</script><script>
var mySwiper = new Swiper('#usp-swiper', {

  // Optional parameters
  spaceBetween: 16,
  slidesPerView: 1,
  freeMode: false,
  loop: true,
  centeredSlides: true,

// Enable lazy loading
  lazy: false,
  keyboard: {
    enabled: true
  },
  navigation: {
    nextEl: "#usp-next-arrow",
    prevEl: "#usp-prev-arrow"
  }
});
</script><script>
var mySwiper = new Swiper('#Product-Images-Swiper', {

  // Optional parameters
  spaceBetween: 8,
  slidesPerView: 1,
  freeMode: false,
  loop: false,
  centeredSlides: true,
  centeredSlidesBounds: true,

// Enable lazy loading
  lazy: false,
  keyboard: {
    enabled: true
  },
  pagination: {
    el: '#ProductSwiperPagination'
  },
  navigation: {
    nextEl: "#product-next-arrow",
    prevEl: "#product-prev-arrow"
  }
});
</script><script>
const colorMap = {
  {% for block in section.blocks %}
    {% if block.type == 'color' %}
      '{{ block.settings.name }}' : '{{ block.settings.code }}',{% endif %}{% endfor %}
};

const allProducts = [
  {{ product | json }},{% for p in product.metafields.custom.linked_products.value %}{
      {
        p | json
      }
    },{% endfor %}
];

function app() {
  return {
    allProducts,
    product: allProducts[0],
    upsold: false,
    currentOptions: {},

    priceToCurr(price) {
      const n = parseInt(price);
      return `$${
        (n / 100).toFixed(2)
      }`;
    },

    get variant() {
      for (const variant of this.product.variants) {
        if (JSON.stringify(Object.values(this.currentOptions).sort()) === JSON.stringify(variant.options.sort())) {
          return variant;
        }
      }
      return null;
    },

    get productOptions() {
      const x = this.product.variants.reduce((prev, curr) => {
        for (let i = 0; i < curr.options.length; i++) {
          if (!prev[this.product.options[i]]) 
            prev[this.product.options[i]] = [];
          



          prev[this.product.options[i]].push(curr[`option${
              i + 1
            }`]);
          prev[this.product.options[i]] = [...new Set(prev[this.product.options[i]])];
        }

        return prev;
      }, {});

      return x;
    }
  };
}
</script>